<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>SASP â€“ Rapport dâ€™intervention</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: radial-gradient(circle at top, #020617, #000000);
      color: #e5e7eb;
      margin: 0;
      padding: 30px;
    }
    .container {
      max-width: 1000px;
      margin: auto;
      background: rgba(2,6,23,0.95);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,.7);
      border: 1px solid #1e293b;
    }
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    .header img {
      width: 140px;
      margin-bottom: 10px;
    }
    h1 {
      margin: 0;
      font-size: 28px;
      letter-spacing: 1px;
    }
    h2 {
      font-size: 14px;
      font-weight: normal;
      opacity: .7;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    label {
      display: block;
      font-size: 13px;
      margin-bottom: 6px;
      text-transform: uppercase;
      opacity: .8;
    }
    input, textarea, select {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #1e293b;
      background: #020617;
      color: white;
    }
    textarea { resize: vertical; }
    .full { grid-column: span 2; }
    button {
      margin-top: 25px;
      padding: 14px;
      width: 100%;
      background: linear-gradient(135deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 14px;
      font-size: 17px;
      cursor: pointer;
    }
    button:hover { opacity: .9; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <img src="pngaaa.com-2421674.png" alt="SASP" />
      <h1>San Andreas State Police</h1>
      <h2>Rapport dâ€™intervention â€“ Usage RP</h2>
    </div>

    <div class="grid">
      <div>
        <label>Officier</label>
        <input id="officer" placeholder="John Doe" />
      </div>
      <div>
        <label>Badge</label>
        <input id="badge" placeholder="SASP-204" />
      </div>

      <div>
        <label>Grade</label>
        <select id="grade">
          <option>Trooper</option>
          <option>Senior Trooper</option>
          <option>Corporal</option>
          <option>Sergeant</option>
          <option>Lieutenant</option>
          <option>Captain</option>
        </select>
      </div>
      <div>
        <label>UnitÃ©</label>
        <select id="unit">
          <option>Patrol Division</option>
          <option>Highway Patrol</option>
          <option>SWAT</option>
          <option>Detective Bureau</option>
        </select>
      </div>

      <div>
        <label>Date & Heure</label>
        <input id="datetime" placeholder="2026-01-22 21:30" />
      </div>
      <div>
        <label>Type dâ€™intervention</label>
        <select id="type">
          <option>ContrÃ´le routier</option>
          <option>Poursuite</option>
          <option>Interpellation</option>
          <option>Accident</option>
          <option>Homicide</option>
        </select>
      </div>

      <div class="full">
        <label>Lieu</label>
        <input id="location" placeholder="Route 68" />
      </div>

      <div class="full">
        <label>Personnes impliquÃ©es</label>
        <textarea id="persons"></textarea>
      </div>

      <div class="full">
        <label>DÃ©roulement des faits</label>
        <textarea id="facts" rows="5"></textarea>
      </div>

      <div class="full">
        <label>Photos / Preuves (plusieurs possibles)</label>
        <input type="file" id="photos" accept="image/*" multiple />
      </div>
    </div>

    <button onclick="sendToDiscord()">ðŸš€ Envoyer le rapport sur Discord</button>
  </div>

<script>
const WEBHOOK_URL = "https://discordapp.com/api/webhooks/1463771725207699620/zUidbxDqAQbGI2RWighueJk0OpSNLwbTPsCtbF7onsPG0BmgUXLN8T_KYhwSUf-rrjr9";

async function sendToDiscord() {
  const files = document.getElementById('photos').files;

  const embed = {
    title: "ðŸš” Rapport dâ€™intervention â€“ SASP",
    color: 3447003,
    fields: [
      { name: "Officier", value: document.getElementById('grade').value + " " + document.getElementById('officer').value, inline: true },
      { name: "Badge", value: document.getElementById('badge').value, inline: true },
      { name: "UnitÃ©", value: document.getElementById('unit').value, inline: true },
      { name: "Date & Heure", value: document.getElementById('datetime').value, inline: true },
      { name: "Lieu", value: document.getElementById('location').value, inline: true },
      { name: "Type", value: document.getElementById('type').value, inline: true },
      { name: "Personnes impliquÃ©es", value: document.getElementById('persons').value || "Aucune" },
      { name: "DÃ©roulement des faits", value: document.getElementById('facts').value || "Non renseignÃ©" }
    ],
    footer: { text: "San Andreas State Police â€¢ RP" },
    timestamp: new Date()
  };

  const formData = new FormData();

  // PremiÃ¨re image directement dans l'embed
  if (files.length > 0) {
    embed.image = { url: `attachment://${files[0].name}` };
  }

  formData.append("payload_json", JSON.stringify({ embeds: [embed] }));

  // Toutes les images en piÃ¨ces jointes
  for (let i = 0; i < files.length; i++) {
    formData.append(`files[${i}]`, files[i], files[i].name);
  }

  await fetch(WEBHOOK_URL, {
    method: "POST",
    body: formData
  });
}
    ],
    footer: { text: "San Andreas State Police â€¢ RP" },
    timestamp: new Date()
  };

  const formData = new FormData();
  formData.append('payload_json', JSON.stringify({ embeds: [embed] }));

  for (let i = 0; i < files.length; i++) {
    formData.append(`files[${i}]`, files[i]);
  }

  await fetch(WEBHOOK_URL, {
    method: 'POST',
    body: formData
  });
}
}
</script>
</body>
</html>
